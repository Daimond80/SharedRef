/*
Deployment script for fias
*/

GO
SET ANSI_NULLS, ANSI_PADDING, ANSI_WARNINGS, ARITHABORT, QUOTED_IDENTIFIER ON;

SET CONCAT_NULL_YIELDS_NULL, NUMERIC_ROUNDABORT OFF;


GO
:setvar DatabaseName "fias"
:setvar DefaultDataPath "c:\Program Files\Microsoft SQL Server\MSSQL10_50.HOME\MSSQL\DATA\"
:setvar DefaultLogPath "c:\Program Files\Microsoft SQL Server\MSSQL10_50.HOME\MSSQL\DATA\"

GO
:on error exit
GO
USE [master]
GO
USE [$(DatabaseName)]
GO
IF EXISTS (SELECT * FROM tempdb..sysobjects WHERE id=OBJECT_ID('tempdb..#tmpErrors')) DROP TABLE #tmpErrors
GO
CREATE TABLE #tmpErrors (Error int)
GO
SET XACT_ABORT ON
GO
SET TRANSACTION ISOLATION LEVEL READ COMMITTED
GO
BEGIN TRANSACTION
GO
PRINT N'Dropping [InvokeWebService].[SqlAssemblyProjectRoot]...';


GO
EXECUTE sp_dropextendedproperty @name = N'SqlAssemblyProjectRoot', @level0type = N'Assembly', @level0name = N'InvokeWebService';


GO
IF @@ERROR <> 0
   AND @@TRANCOUNT > 0
    BEGIN
        ROLLBACK;
    END

IF @@TRANCOUNT = 0
    BEGIN
        INSERT  INTO #tmpErrors (Error)
        VALUES                 (1);
        BEGIN TRANSACTION;
    END


GO
PRINT N'Dropping [dbo].[shared_GetMatrixValues]...';


GO
DROP PROCEDURE [dbo].[shared_GetMatrixValues];


GO
IF @@ERROR <> 0
   AND @@TRANCOUNT > 0
    BEGIN
        ROLLBACK;
    END

IF @@TRANCOUNT = 0
    BEGIN
        INSERT  INTO #tmpErrors (Error)
        VALUES                 (1);
        BEGIN TRANSACTION;
    END


GO
PRINT N'Dropping [InvokeWebService]...';


GO
DROP ASSEMBLY [InvokeWebService];


GO
IF @@ERROR <> 0
   AND @@TRANCOUNT > 0
    BEGIN
        ROLLBACK;
    END

IF @@TRANCOUNT = 0
    BEGIN
        INSERT  INTO #tmpErrors (Error)
        VALUES                 (1);
        BEGIN TRANSACTION;
    END


GO
PRINT N'Creating [InvokeWebService]...';


GO
CREATE ASSEMBLY [InvokeWebService]
    AUTHORIZATION [dbo]
    FROM 0x4D5A90000300000004000000FFFF0000B800000000000000400000000000000000000000000000000000000000000000000000000000000000000000800000000E1FBA0E00B409CD21B8014CCD21546869732070726F6772616D2063616E6E6F742062652072756E20696E20444F53206D6F64652E0D0D0A2400000000000000504500004C010300AD1763530000000000000000E00002210B010B00002400000006000000000000DE43000000200000006000000000400000200000000200000400000000000000040000000000000000A000000002000040AF0000030040850000100000100000000010000010000000000000100000000000000000000000844300005700000000600000D803000000000000000000000000000000000000008000000C00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000080000000000000000000000082000004800000000000000000000002E74657874000000E4230000002000000024000000020000000000000000000000000000200000602E72737263000000D8030000006000000004000000260000000000000000000000000000400000402E72656C6F6300000C0000000080000000020000002A00000000000000000000000000004000004200000000000000000000000000000000C0430000000000004800000002000500F0240000941E00000900000000000000000000000000000050200000800000000000000000000000000000000000000000000000000000000000000000000000666A48311044909E0A5169A7DF17E15D1D3450A01FBF12D447997FAEE643815B6B2644228DC0E5F3F09954CA2D4C64541E51758BEF8EAC8834273C2E004C9BAF7161ED790FA4706BE92BAE8AEFDC6B5F7153B5202CDBE94D0BC9EB77702DD99FCB0ABDCC90C274750CE1CCDBCBD7852E05A1D89CAF4036E75DB92126DCE65917133004002400000001000011280200000672010000706F0E00000A730A000006020304280F0000060A0628030000062A1B30040082000000020000117215000070730F00000A0A066F1000000A724500007006731100000A0B731200000A0C076F1300000A0D2B260809166F1400000A13051205281500000A09176F1400000A13061206281500000A6F1600000A096F1700000A2DD2DE0A092C06096F1800000ADC081304DE14072C06076F1800000ADC062C06066F1800000ADC11042A00000128000002002A00325C000A0000000002001D004E6B000A0000000002000B006A75000A0000000032026F1A00000A6F1B00000A2A1E026F1C00000A2A0000001B300500FF0000000300001102281D00000A0A140B140C140D066F1E00000A72FE000070281F00000A6F2000000A280100002B6F2200000A130538A400000011056F2300000A1304082C03072D5311046F2400000A280200002B732600000A0C0811046F2400000A7E020000042D1114FE0607000006732700000A80020000047E02000004280300002B6F2900000A0828040000060B282A00000A076F2B00000A11046F2400000A7E030000042D1114FE0608000006732700000A80030000047E03000004280300002B732C00000A0D0912012805000006282A00000A076F2D00000A11056F2E00000A3A50FFFFFFDE0C11052C0711056F1800000ADC072C0A282A00000A6F2F00000A2A000110000002002E00B7E5000C000000003E021F0C20FA0000006A733000000A2A133005004800000004000011026F3100000A733200000A0A0602280400002B7E040000042D1114FE0609000006733400000A80040000047E04000004280500002B6F3500000A066F3600000A733700000A0B072A1B3004003A00000005000011160A026F3800000A0C2B151202283900000A0B0350062517580A076F3A00000A1202283B00000A2DE2DE0E1202FE160800001B6F1800000ADC2A00000110000002000900222B000E000000001E02283C00000A2A3A02284100000A0203284200000A2A00133003001B0000000600001102720A010070168D01000001284400000A0A06169A74310000012A00133003001B00000006000011027226010070168D01000001284400000A0A06169A74310000012A00133005003D0000000700001102723E0100701B8D010000010B071603A2071704A2071805A207190E048C32000001A2071A0E058C33000001A207284400000A0A06169A74310000012A000000133005002500000007000011027252010070188D010000010B071603A2071704A207284400000A0A06169A74310000012A000000133005002900000007000011027262010070198D010000010B071603A2071704A2071805A207284400000A0A06169A74310000012A000000133003001B00000006000011027282010070168D01000001284400000A0A06169A74310000012A0042534A4201000100000000000C00000076322E302E35303732370000000005006C00000030060000237E00009C0600000C08000023537472696E677300000000A80E0000900100002355530038100000100000002347554944000000481000004C0E000023426C6F620000000000000002000001571D02080908000000FA25330016000001000000330000000300000004000000100000001500000044000000010000001B000000070000000800000001000000060000000500000000000A0001000000000006004D0046000A00860068000600D400B9000E001F01040106002D01B90006000702F50106001E02F50106003B02F50106005A02F50106007302F50106008C02F5010600A702F5010600C202F5010600FA02DB0206000E03F5010600470327030600670327030E00960304010E00CB03B5030E00EC03D9030E00FE03B5030E000904B5030E003A0425040E005F04D9030600710446001200950485041600BF0446000600ED04270312004005850412005D05850412006D05850412008B05850406009605B9001200AD0585040600B805B9001600F705EB050E00180604010E00230604010600670654060E008B0604010E00D706F8001700FA0600001A0027070F07060051073E071A0084076E070A009E0754000A00B90768000A00D30768000600F60746000600FD0746000600030846000000000001000000000001000100010010001F0000000500010001000100100030000000090005000A0051809D0013001100C6041C02110019051C021100B0060403D020000000009600A200CE0001000021000000009100E100D5000400D021000000009100ED00DE000400FC220000000091003401E300050050230000000091004501ED000600A8230000000086185401F9000800B821000000009100A00416020800C521000000009100080516020900EC220000000091009706FD020A00B0230000000086185401FD000B00C0230000000086005A0102010C00E823000000008600680102010C001024000000008600740106010C005C240000000086007E010F0111009024000000008600860115011300C824000000008600960102011600000001009C0100000200A10100000300AE0100000100B60100000100BD0100000100C20100000200C90100000100B10400000100B10400000100AE0600000100D001000001009C0100000200D40100000300DD0100000400E70100000500ED01000001009C0100000200F201000001009C0100000200A10100000300AE0131005401FD0039005401FD0041005401FD0049005401FD0051005401FD0059005401FD0061005401FD0069005401FD00710054011C0179005401FD0081005401210189005401F90091005401F9000C00AC03D40199005401FD00A100F903F900A9005401DF010C005401F900A9001704E601B1004404EB01B900510402010C005B04F101C1006C04F901C9007D04F900E1005401F900D10046052502E9004F050201D10051040201F10067052A02F10076053002E9007F0535020101A4053B021101A40547021400C60566021C00D4057802F900E0057D022101020687022400540121012C005401A60221010806AC0224000F06CC0229012B06D70231013406DD0224005401CC0231014506DD0239017306F90131017C06F900410154010E032400E10617033400540121012101EB0623033C005401A60234000F06CC023400F2064803210054014E032400C60562034400D405780221000507730344007306F90109005401F90059015401840361015401F90069015401FD0071015401F90011005401F9007901CB07FD0081015401FD001100EF0785050E000400160020006B00C8012E004B00E00D2E001300E00D2E003B00E00D2E0063002B0E2E001B00E00D2E003300FB0D2E005B00220E2E000B00CA0D2E002300E60D2E002B00CA0D4100CB00C8016100CB00C80163000302AA036300F301C8016300FB01A0036300EB018A038100CB00C801E000CB00C8010001CB00C8012001CB00C80160011B02DE0380011B029205A0011B023707C0011B02E108E0011B02820A00021B022B0CDB01FD01E302560379038D05DA08CD015E02700298029E021B0338036C03048000000100000073140E4D0100000026018503000002000000000000000000000001003D00000000000200000000000000000000000A005400000000000200000000000000000000000100F8000000000003000500000000000000000001008504000000000300050000000000000000000100B304000000000200000000000000000000000100460000000000430059024B0093025100C602670034035100410300000000003C4D6F64756C653E00496E766F6B65576562536572766963652E646C6C0053746F72656450726F6365647572657300536861726564526566586D6C006D73636F726C69620053797374656D004F626A6563740053797374656D2E5765622E53657276696365730053797374656D2E5765622E53657276696365732E50726F746F636F6C7300536F617048747470436C69656E7450726F746F636F6C005F73716C007368617265645F4765744D617472697856616C7565730053797374656D2E436F6C6C656374696F6E732E47656E657269630044696374696F6E61727960320047657453657474696E67730053656E64546F506970650053797374656D2E44617461004D6963726F736F66742E53716C5365727665722E5365727665720053716C446174615265636F7264004C697374603100437265617465446174615265636F72640046696C6C446174615265636F7264002E63746F72004765745265666572656E636573004765744D617472697865730047657456616C7565730047657442794964004765744D617472697856616C75657300436C656172006E616D6500636F6E646974696F6E616C730072657475726E73006F7574707574006D6574610076616C756573007265636F72640075726C00706172656E7449640073746172745769746800636F756E7400736F72740069640053797374656D2E5265666C656374696F6E00417373656D626C795469746C6541747472696275746500417373656D626C794465736372697074696F6E41747472696275746500417373656D626C79436F6E66696775726174696F6E41747472696275746500417373656D626C79436F6D70616E7941747472696275746500417373656D626C7950726F6475637441747472696275746500417373656D626C79436F7079726967687441747472696275746500417373656D626C7954726164656D61726B41747472696275746500417373656D626C7943756C747572654174747269627574650053797374656D2E52756E74696D652E496E7465726F70536572766963657300436F6D56697369626C6541747472696275746500417373656D626C7956657273696F6E4174747269627574650053797374656D2E52756E74696D652E436F6D70696C6572536572766963657300436F6D70696C6174696F6E52656C61786174696F6E734174747269627574650052756E74696D65436F6D7061746962696C69747941747472696275746500496E766F6B65576562536572766963650053716C50726F636564757265417474726962757465006765745F4974656D0053797374656D2E446174612E53716C436C69656E740053716C436F6E6E656374696F6E0053797374656D2E446174612E436F6D6D6F6E004462436F6E6E656374696F6E004F70656E0053716C436F6D6D616E640053716C4461746152656164657200457865637574655265616465720053797374656D2E446174612E53716C54797065730053716C537472696E670047657453716C537472696E67006765745F56616C7565004164640044624461746152656164657200526561640049446973706F7361626C6500446973706F73650053797374656D2E586D6C2E4C696E710058417474726962757465003C53656E64546F506970653E625F5F3000610053797374656D2E436F72650046756E636032004353243C3E395F5F436163686564416E6F6E796D6F75734D6574686F6444656C65676174653200436F6D70696C657247656E657261746564417474726962757465003C53656E64546F506970653E625F5F31004353243C3E395F5F436163686564416E6F6E796D6F75734D6574686F6444656C65676174653300584E616D65006765745F4E616D65006765745F4C6F63616C4E616D650058446F63756D656E740050617273650058456C656D656E74006765745F526F6F74006F705F496D706C696369740058436F6E7461696E65720049456E756D657261626C65603100456C656D656E747300457874656E73696F6E730049456E756D657261746F72603100476574456E756D657261746F72006765745F43757272656E7400417474726962757465730053797374656D2E4C696E7100456E756D657261626C6500436F756E740053656C6563740041646452616E67650053716C436F6E746578740053716C50697065006765745F506970650053656E64526573756C747353746172740053656E64526573756C7473526F770053797374656D2E436F6C6C656374696F6E730049456E756D657261746F72004D6F76654E6578740053656E64526573756C7473456E640053716C4D65746144617461003C437265617465446174615265636F72643E625F5F340069004353243C3E395F5F436163686564416E6F6E796D6F75734D6574686F6444656C6567617465350053716C446254797065006765745F436F756E7400546F4C69737400546F417272617900456E756D657261746F7200536574537472696E670053797374656D2E436F6465446F6D2E436F6D70696C65720047656E657261746564436F64654174747269627574650053797374656D2E446961676E6F7374696373004465627567676572537465705468726F7567684174747269627574650053797374656D2E436F6D706F6E656E744D6F64656C0044657369676E657243617465676F7279417474726962757465005765625365727669636542696E64696E6741747472696275746500576562436C69656E7450726F746F636F6C007365745F55726C00536F6170446F63756D656E744D6574686F6441747472696275746500496E766F6B6500537472696E6700496E74333200426F6F6C65616E00000013530068006100720065006400520065006600002F63006F006E007400650078007400200063006F006E006E0065006300740069006F006E003D0074007200750065000080B7530045004C0045004300540020006E0061006D0065002C002000760061006C00750065002000460052004F004D0020003A003A0066006E005F006C0069007300740065007800740065006E00640065006400700072006F007000650072007400790028004E0055004C004C002C0020004E0055004C004C002C0020004E0055004C004C002C0020004E0055004C004C002C0020004E0055004C004C002C0020004E0055004C004C002C0020004E0055004C004C002900000B6900740065006D007300001B4700650074005200650066006500720065006E0063006500730000174700650074004D0061007400720069007800650073000013470065007400560061006C00750065007300000F4700650074004200790049006400001F4700650074004D0061007400720069007800560061006C00750065007300000B43006C006500610072000000002F943880C457D84BA252873A7BBCF08A0008B77A5C561934E08908B03F5F7F11D50A3A02060E80B6530045004C0045004300540020006E0061006D0065002C002000760061006C00750065002000460052004F004D0020003A003A0066006E005F006C0069007300740065007800740065006E00640065006400700072006F007000650072007400790028004E0055004C004C002C0020004E0055004C004C002C0020004E0055004C004C002C0020004E0055004C004C002C0020004E0055004C004C002C0020004E0055004C004C002C0020004E0055004C004C002900060003010E0E0E08000015120D020E0E040001010E0900011211151215010E0B000201151215010E10121103200001042001010E0320000E0820050E0E0E0E08020520020E0E0E0620030E0E0E0E0420010102042001010880A0002400000480000094000000060200000024000052534131000400000100010005D1B9BC61A05932E42A08253F8889B13FE880DCD584640C1B50B3A722720EE87140657B71B8A3DABCCA5CE984652D456FECCF314AFA5CB1423E58A5FCEF89FDD3B98CB5A045B14AC2D558F5EF093971BEBDCC029053919842E072376F2DC10EC7B28FF23D88CF433AEB9A73EE87955E29B02AC1B83F6E093FC79349EF0DD6F304010000000615120D020E0E062001130113000307010E062002010E124D0420001259052001115D08072002011300130103200002180707124D125515120D020E0E125915120D020E0E115D115D0500010E1269080615126D0212690E042000127505000112790E042000127D05000112750E0B20011512808501127D1275111001011512808501127D15128085011E00040A01127D071512808501127D0920001512808D011300071512808D01127D0420001300092000151280850112690B1001010815128085011E00040A01126905151215010E0715126D0212690E052002011C181910020215128085011E0115128085011E0015126D021E001E01050A0212690E0A2001011512808501130005000012809905200101121119070612791211151215010E151215010E127D1512808D01127D0600011280A10E090615126D020E1280A1082003010E1180A50A0320000807151215011280A110100101151215011E0015128085011E00030A010E0815126D020E1280A1060A020E1280A10520001D1300072001011D1280A10B0702151215011280A11211092000151180A901130006151180A9010E05200201080E0A0703080E151180A9010E052002010E0E150100047773646C0B342E302E33303331392E31000009010004636F646500003301000200540E044E616D6507586D6C536F6170540E094E616D65737061636513687474703A2F2F74656D707572692E6F72672F81A5010020687474703A2F2F74656D707572692E6F72672F4765745265666572656E6365730400540E10526571756573744E616D65737061636513687474703A2F2F74656D707572692E6F72672F540E11526573706F6E73654E616D65737061636513687474703A2F2F74656D707572692E6F72672F5455808653797374656D2E5765622E53657276696365732E4465736372697074696F6E2E536F617042696E64696E675573652C2053797374656D2E5765622E53657276696365732C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D6230336635663766313164353061336103557365020000005455808853797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F6170506172616D657465725374796C652C2053797374656D2E5765622E53657276696365732C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D623033663566376631316435306133610E506172616D657465725374796C65020000000720021D1C0E1D1C0407011D1C81A301001E687474703A2F2F74656D707572692E6F72672F4765744D617472697865730400540E10526571756573744E616D65737061636513687474703A2F2F74656D707572692E6F72672F540E11526573706F6E73654E616D65737061636513687474703A2F2F74656D707572692E6F72672F5455808653797374656D2E5765622E53657276696365732E4465736372697074696F6E2E536F617042696E64696E675573652C2053797374656D2E5765622E53657276696365732C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D6230336635663766313164353061336103557365020000005455808853797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F6170506172616D657465725374796C652C2053797374656D2E5765622E53657276696365732C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D623033663566376631316435306133610E506172616D657465725374796C650200000081A101001C687474703A2F2F74656D707572692E6F72672F47657456616C7565730400540E10526571756573744E616D65737061636513687474703A2F2F74656D707572692E6F72672F540E11526573706F6E73654E616D65737061636513687474703A2F2F74656D707572692E6F72672F5455808653797374656D2E5765622E53657276696365732E4465736372697074696F6E2E536F617042696E64696E675573652C2053797374656D2E5765622E53657276696365732C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D6230336635663766313164353061336103557365020000005455808853797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F6170506172616D657465725374796C652C2053797374656D2E5765622E53657276696365732C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D623033663566376631316435306133610E506172616D657465725374796C65020000000607021D1C1D1C819F01001A687474703A2F2F74656D707572692E6F72672F476574427949640400540E10526571756573744E616D65737061636513687474703A2F2F74656D707572692E6F72672F540E11526573706F6E73654E616D65737061636513687474703A2F2F74656D707572692E6F72672F5455808653797374656D2E5765622E53657276696365732E4465736372697074696F6E2E536F617042696E64696E675573652C2053797374656D2E5765622E53657276696365732C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D6230336635663766313164353061336103557365020000005455808853797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F6170506172616D657465725374796C652C2053797374656D2E5765622E53657276696365732C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D623033663566376631316435306133610E506172616D657465725374796C650200000081A7010022687474703A2F2F74656D707572692E6F72672F4765744D617472697856616C7565730400540E10526571756573744E616D65737061636513687474703A2F2F74656D707572692E6F72672F540E11526573706F6E73654E616D65737061636513687474703A2F2F74656D707572692E6F72672F5455808653797374656D2E5765622E53657276696365732E4465736372697074696F6E2E536F617042696E64696E675573652C2053797374656D2E5765622E53657276696365732C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D6230336635663766313164353061336103557365020000005455808853797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F6170506172616D657465725374796C652C2053797374656D2E5765622E53657276696365732C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D623033663566376631316435306133610E506172616D657465725374796C6502000000819D010018687474703A2F2F74656D707572692E6F72672F436C6561720400540E10526571756573744E616D65737061636513687474703A2F2F74656D707572692E6F72672F540E11526573706F6E73654E616D65737061636513687474703A2F2F74656D707572692E6F72672F5455808653797374656D2E5765622E53657276696365732E4465736372697074696F6E2E536F617042696E64696E675573652C2053797374656D2E5765622E53657276696365732C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D6230336635663766313164353061336103557365020000005455808853797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F6170506172616D657465725374796C652C2053797374656D2E5765622E53657276696365732C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D623033663566376631316435306133610E506172616D657465725374796C650200000015010010496E766F6B655765625365727669636500000501000000001401000F4865776C6574742D5061636B617264000026010021436F7079726967687420C2A9204865776C6574742D5061636B617264203230313200000801000800000000001E01000100540216577261704E6F6E457863657074696F6E5468726F7773010000AC4300000000000000000000CE430000002000000000000000000000000000000000000000000000C04300000000000000000000000000000000000000005F436F72446C6C4D61696E006D73636F7265652E646C6C0000000000FF25002040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100000001800008000000000000000000000000000000100010000003000008000000000000000000000000000000100000000004800000058600000800300000000000000000000800334000000560053005F00560045005200530049004F004E005F0049004E0046004F0000000000BD04EFFE00000100000001000E4D7314000001000E4D73143F000000000000000400000002000000000000000000000000000000440000000100560061007200460069006C00650049006E0066006F00000000002400040000005400720061006E0073006C006100740069006F006E00000000000000B004E0020000010053007400720069006E006700460069006C00650049006E0066006F000000BC020000010030003000300030003000340062003000000040001000010043006F006D00700061006E0079004E0061006D006500000000004800650077006C006500740074002D005000610063006B0061007200640000004C0011000100460069006C0065004400650073006300720069007000740069006F006E000000000049006E0076006F006B00650057006500620053006500720076006900630065000000000040000F000100460069006C006500560065007200730069006F006E000000000031002E0030002E0035003200330035002E0031003900370032003600000000004C001500010049006E007400650072006E0061006C004E0061006D006500000049006E0076006F006B00650057006500620053006500720076006900630065002E0064006C006C00000000006800210001004C006500670061006C0043006F007000790072006900670068007400000043006F0070007900720069006700680074002000A90020004800650077006C006500740074002D005000610063006B0061007200640020003200300031003200000000005400150001004F0072006900670069006E0061006C00460069006C0065006E0061006D006500000049006E0076006F006B00650057006500620053006500720076006900630065002E0064006C006C0000000000440011000100500072006F0064007500630074004E0061006D0065000000000049006E0076006F006B00650057006500620053006500720076006900630065000000000044000F000100500072006F006400750063007400560065007200730069006F006E00000031002E0030002E0035003200330035002E00310039003700320036000000000048000F00010041007300730065006D0062006C0079002000560065007200730069006F006E00000031002E0030002E0035003200330035002E00310039003700320036000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000C000000E03300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
    WITH PERMISSION_SET = EXTERNAL_ACCESS;


GO
IF @@ERROR <> 0
   AND @@TRANCOUNT > 0
    BEGIN
        ROLLBACK;
    END

IF @@TRANCOUNT = 0
    BEGIN
        INSERT  INTO #tmpErrors (Error)
        VALUES                 (1);
        BEGIN TRANSACTION;
    END


GO
PRINT N'Adding files to assembly [InvokeWebService]';


GO
ALTER ASSEMBLY [InvokeWebService]
    DROP FILE ALL
    ADD FILE FROM 0xEFBBBF7573696E672053797374656D2E5265666C656374696F6E3B0D0A7573696E672053797374656D2E52756E74696D652E436F6D70696C657253657276696365733B0D0A7573696E672053797374656D2E52756E74696D652E496E7465726F7053657276696365733B0D0A7573696E672053797374656D2E446174612E53716C3B0D0A0D0A2F2F2047656E6572616C20496E666F726D6174696F6E2061626F757420616E20617373656D626C7920697320636F6E74726F6C6C6564207468726F7567682074686520666F6C6C6F77696E670D0A2F2F20736574206F6620617474726962757465732E204368616E6765207468657365206174747269627574652076616C75657320746F206D6F646966792074686520696E666F726D6174696F6E0D0A2F2F206173736F636961746564207769746820616E20617373656D626C792E0D0A5B617373656D626C793A20417373656D626C795469746C652822496E766F6B655765625365727669636522295D0D0A5B617373656D626C793A20417373656D626C794465736372697074696F6E282222295D0D0A5B617373656D626C793A20417373656D626C79436F6E66696775726174696F6E282222295D0D0A5B617373656D626C793A20417373656D626C79436F6D70616E7928224865776C6574742D5061636B61726422295D0D0A5B617373656D626C793A20417373656D626C7950726F647563742822496E766F6B655765625365727669636522295D0D0A5B617373656D626C793A20417373656D626C79436F707972696768742822436F7079726967687420C2A9204865776C6574742D5061636B617264203230313222295D0D0A5B617373656D626C793A20417373656D626C7954726164656D61726B282222295D0D0A5B617373656D626C793A20417373656D626C7943756C74757265282222295D0D0A0D0A5B617373656D626C793A20436F6D56697369626C652866616C7365295D0D0A0D0A2F2F0D0A2F2F2056657273696F6E20696E666F726D6174696F6E20666F7220616E20617373656D626C7920636F6E7369737473206F662074686520666F6C6C6F77696E6720666F75722076616C7565733A0D0A2F2F0D0A2F2F2020202020204D616A6F722056657273696F6E0D0A2F2F2020202020204D696E6F722056657273696F6E0D0A2F2F2020202020204275696C64204E756D6265720D0A2F2F2020202020205265766973696F6E0D0A2F2F0D0A2F2F20596F752063616E207370656369667920616C6C207468652076616C756573206F7220796F752063616E2064656661756C7420746865205265766973696F6E20616E64204275696C64204E756D626572730D0A2F2F206279207573696E672074686520272A272061732073686F776E2062656C6F773A0D0A5B617373656D626C793A20417373656D626C7956657273696F6E2822312E302E2A22295D0D0A0D0A AS N'Properties\AssemblyInfo.cs', 0xEFBBBF2F2F2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D0D0A2F2F203C6175746F2D67656E6572617465643E0D0A2F2F2020202020D0ADD182D0BED18220D0BAD0BED0B420D181D0BED0B7D0B4D0B0D0BD20D0BFD180D0BED0B3D180D0B0D0BCD0BCD0BED0B92E0D0A2F2F2020202020D098D181D0BFD0BED0BBD0BDD18FD0B5D0BCD0B0D18F20D0B2D0B5D180D181D0B8D18F3A342E302E33303331392E3236390D0A2F2F0D0A2F2F2020202020D098D0B7D0BCD0B5D0BDD0B5D0BDD0B8D18F20D0B220D18DD182D0BED0BC20D184D0B0D0B9D0BBD0B520D0BCD0BED0B3D183D18220D0BFD180D0B8D0B2D0B5D181D182D0B820D0BA20D0BDD0B5D0BFD180D0B0D0B2D0B8D0BBD18CD0BDD0BED0B920D180D0B0D0B1D0BED182D0B520D0B820D0B1D183D0B4D183D18220D0BFD0BED182D0B5D180D18FD0BDD18B20D0B220D181D0BBD183D187D0B0D0B50D0A2F2F2020202020D0BFD0BED0B2D182D0BED180D0BDD0BED0B920D0B3D0B5D0BDD0B5D180D0B0D186D0B8D0B820D0BAD0BED0B4D0B02E0D0A2F2F203C2F6175746F2D67656E6572617465643E0D0A2F2F2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D0D0A0D0A7573696E672053797374656D3B0D0A7573696E672053797374656D2E436F6D706F6E656E744D6F64656C3B0D0A7573696E672053797374656D2E446961676E6F73746963733B0D0A7573696E672053797374656D2E5765622E53657276696365733B0D0A7573696E672053797374656D2E5765622E53657276696365732E50726F746F636F6C733B0D0A7573696E672053797374656D2E586D6C2E53657269616C697A6174696F6E3B0D0A7573696E672053797374656D2E436F6E66696775726174696F6E3B0D0A0D0A2F2F200D0A2F2F205468697320736F7572636520636F646520776173206175746F2D67656E657261746564206279207773646C2C2056657273696F6E3D342E302E33303331392E312E0D0A2F2F200D0A0D0A0D0A2F2F2F203C72656D61726B732F3E0D0A5B53797374656D2E436F6465446F6D2E436F6D70696C65722E47656E657261746564436F646541747472696275746528227773646C222C2022342E302E33303331392E3122295D0D0A5B53797374656D2E446961676E6F73746963732E4465627567676572537465705468726F75676841747472696275746528295D0D0A5B53797374656D2E436F6D706F6E656E744D6F64656C2E44657369676E657243617465676F72794174747269627574652822636F646522295D0D0A5B53797374656D2E5765622E53657276696365732E5765625365727669636542696E64696E67417474726962757465284E616D653D22586D6C536F6170222C204E616D6573706163653D22687474703A2F2F74656D707572692E6F72672F22295D0D0A7075626C6963207061727469616C20636C61737320536861726564526566586D6C203A2053797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F617048747470436C69656E7450726F746F636F6C207B202020200D0A202020200D0A202020202F2F2F203C72656D61726B732F3E0D0A202020207075626C696320536861726564526566586D6C28737472696E672075726C290D0A202020207B0D0A2020202020202020746869732E55726C203D2075726C3B0D0A202020207D202020200D0A202020200D0A202020202F2F2F203C72656D61726B732F3E0D0A202020205B53797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F6170446F63756D656E744D6574686F644174747269627574652822687474703A2F2F74656D707572692E6F72672F4765745265666572656E636573222C20526571756573744E616D6573706163653D22687474703A2F2F74656D707572692E6F72672F222C20526573706F6E73654E616D6573706163653D22687474703A2F2F74656D707572692E6F72672F222C205573653D53797374656D2E5765622E53657276696365732E4465736372697074696F6E2E536F617042696E64696E675573652E4C69746572616C2C20506172616D657465725374796C653D53797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F6170506172616D657465725374796C652E57726170706564295D0D0A202020207075626C696320737472696E67204765745265666572656E6365732829207B0D0A20202020202020206F626A6563745B5D20726573756C7473203D20746869732E496E766F6B6528224765745265666572656E636573222C206E6577206F626A6563745B305D293B0D0A202020202020202072657475726E202828737472696E672928726573756C74735B305D29293B0D0A202020207D0D0A0D0A202020202F2F2F203C72656D61726B732F3E0D0A202020205B53797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F6170446F63756D656E744D6574686F644174747269627574652822687474703A2F2F74656D707572692E6F72672F4765744D61747269786573222C20526571756573744E616D6573706163653D22687474703A2F2F74656D707572692E6F72672F222C20526573706F6E73654E616D6573706163653D22687474703A2F2F74656D707572692E6F72672F222C205573653D53797374656D2E5765622E53657276696365732E4465736372697074696F6E2E536F617042696E64696E675573652E4C69746572616C2C20506172616D657465725374796C653D53797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F6170506172616D657465725374796C652E57726170706564295D0D0A202020207075626C696320737472696E67204765744D617472697865732829207B0D0A20202020202020206F626A6563745B5D20726573756C7473203D20746869732E496E766F6B6528224765744D61747269786573222C206E6577206F626A6563745B305D293B0D0A202020202020202072657475726E202828737472696E672928726573756C74735B305D29293B0D0A202020207D0D0A202020200D0A202020202F2F2F203C72656D61726B732F3E0D0A202020205B53797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F6170446F63756D656E744D6574686F644174747269627574652822687474703A2F2F74656D707572692E6F72672F47657456616C756573222C20526571756573744E616D6573706163653D22687474703A2F2F74656D707572692E6F72672F222C20526573706F6E73654E616D6573706163653D22687474703A2F2F74656D707572692E6F72672F222C205573653D53797374656D2E5765622E53657276696365732E4465736372697074696F6E2E536F617042696E64696E675573652E4C69746572616C2C20506172616D657465725374796C653D53797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F6170506172616D657465725374796C652E57726170706564295D0D0A202020207075626C696320737472696E672047657456616C75657328737472696E67206E616D652C20737472696E6720706172656E7449642C20737472696E67207374617274576974682C20696E7420636F756E742C20626F6F6C20736F727429207B0D0A20202020202020206F626A6563745B5D20726573756C7473203D20746869732E496E766F6B65282247657456616C756573222C206E6577206F626A6563745B5D207B0D0A20202020202020202020202020202020202020206E616D652C0D0A2020202020202020202020202020202020202020706172656E7449642C0D0A20202020202020202020202020202020202020207374617274576974682C0D0A2020202020202020202020202020202020202020636F756E742C0D0A2020202020202020202020202020202020202020736F72747D293B0D0A202020202020202072657475726E202828737472696E672928726573756C74735B305D29293B0D0A202020207D0D0A0D0A202020202F2F2F203C72656D61726B732F3E0D0A202020205B53797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F6170446F63756D656E744D6574686F644174747269627574652822687474703A2F2F74656D707572692E6F72672F47657442794964222C20526571756573744E616D6573706163653D22687474703A2F2F74656D707572692E6F72672F222C20526573706F6E73654E616D6573706163653D22687474703A2F2F74656D707572692E6F72672F222C205573653D53797374656D2E5765622E53657276696365732E4465736372697074696F6E2E536F617042696E64696E675573652E4C69746572616C2C20506172616D657465725374796C653D53797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F6170506172616D657465725374796C652E57726170706564295D0D0A202020207075626C696320737472696E67204765744279496428737472696E67206E616D652C20737472696E6720696429207B0D0A20202020202020206F626A6563745B5D20726573756C7473203D20746869732E496E766F6B65282247657442794964222C206E6577206F626A6563745B5D207B0D0A20202020202020202020202020202020202020206E616D652C0D0A202020202020202020202020202020202020202069647D293B0D0A202020202020202072657475726E202828737472696E672928726573756C74735B305D29293B0D0A202020207D0D0A0D0A202020202F2F2F203C72656D61726B732F3E0D0A202020205B53797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F6170446F63756D656E744D6574686F644174747269627574652822687474703A2F2F74656D707572692E6F72672F4765744D617472697856616C756573222C20526571756573744E616D6573706163653D22687474703A2F2F74656D707572692E6F72672F222C20526573706F6E73654E616D6573706163653D22687474703A2F2F74656D707572692E6F72672F222C205573653D53797374656D2E5765622E53657276696365732E4465736372697074696F6E2E536F617042696E64696E675573652E4C69746572616C2C20506172616D657465725374796C653D53797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F6170506172616D657465725374796C652E57726170706564295D0D0A202020207075626C696320737472696E67204765744D617472697856616C75657328737472696E67206E616D652C20737472696E6720636F6E646974696F6E616C732C20737472696E672072657475726E7329207B0D0A20202020202020206F626A6563745B5D20726573756C7473203D20746869732E496E766F6B6528224765744D617472697856616C756573222C206E6577206F626A6563745B5D207B0D0A20202020202020202020202020202020202020206E616D652C0D0A2020202020202020202020202020202020202020636F6E646974696F6E616C732C0D0A202020202020202020202020202020202020202072657475726E737D293B0D0A202020202020202072657475726E202828737472696E672928726573756C74735B305D29293B0D0A202020207D0D0A0D0A202020202F2F2F203C72656D61726B732F3E0D0A202020205B53797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F6170446F63756D656E744D6574686F644174747269627574652822687474703A2F2F74656D707572692E6F72672F436C656172222C20526571756573744E616D6573706163653D22687474703A2F2F74656D707572692E6F72672F222C20526573706F6E73654E616D6573706163653D22687474703A2F2F74656D707572692E6F72672F222C205573653D53797374656D2E5765622E53657276696365732E4465736372697074696F6E2E536F617042696E64696E675573652E4C69746572616C2C20506172616D657465725374796C653D53797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F6170506172616D657465725374796C652E57726170706564295D0D0A202020207075626C696320737472696E6720436C6561722829207B0D0A20202020202020206F626A6563745B5D20726573756C7473203D20746869732E496E766F6B652822436C656172222C206E6577206F626A6563745B305D293B0D0A202020202020202072657475726E202828737472696E672928726573756C74735B305D29293B0D0A202020207D0D0A7D AS N'SharedRef.Web\SharedRef.cs', 0xEFBBBF7573696E672053797374656D3B0D0A7573696E672053797374656D2E446174613B0D0A7573696E672053797374656D2E446174612E53716C436C69656E743B0D0A7573696E672053797374656D2E446174612E53716C54797065733B0D0A7573696E672053797374656D2E586D6C2E4C696E713B0D0A7573696E672053797374656D2E4C696E713B0D0A7573696E672053797374656D2E436F6C6C656374696F6E732E47656E657269633B0D0A7573696E67204D6963726F736F66742E53716C5365727665722E5365727665723B0D0A7573696E672053797374656D2E436F6E66696775726174696F6E3B0D0A0D0A0D0A7075626C6963207061727469616C20636C6173732053746F72656450726F636564757265730D0A7B0D0A202020205B4D6963726F736F66742E53716C5365727665722E5365727665722E53716C50726F6365647572655D0D0A202020207075626C69632073746174696320766F6964207368617265645F4765744D617472697856616C75657328737472696E67206E616D652C20737472696E6720636F6E646974696F6E616C732C20737472696E672072657475726E73290D0A202020207B0D0A2020202020202020766172206F7574707574203D206E657720536861726564526566586D6C2847657453657474696E677328295B22536861726564526566225D292E4765744D617472697856616C756573286E616D652C20636F6E646974696F6E616C732C2072657475726E73293B0D0A0D0A202020202020202053656E64546F50697065286F7574707574293B0D0A202020207D0D0A0D0A202020207072697661746520636F6E737420737472696E67205F73716C203D202253454C454354206E616D652C2076616C75652046524F4D203A3A666E5F6C697374657874656E64656470726F7065727479284E554C4C2C204E554C4C2C204E554C4C2C204E554C4C2C204E554C4C2C204E554C4C2C204E554C4C29223B0D0A0D0A2020202070726976617465207374617469632044696374696F6E6172793C737472696E672C20737472696E673E2047657453657474696E677328290D0A202020207B0D0A20202020202020207573696E67202876617220636F6E6E656374696F6E203D206E65772053716C436F6E6E656374696F6E2822636F6E7465787420636F6E6E656374696F6E3D747275652229290D0A20202020202020207B0D0A202020202020202020202020636F6E6E656374696F6E2E4F70656E28293B0D0A0D0A2020202020202020202020207573696E67202853716C436F6D6D616E642073656C65637450726F7073203D206E65772053716C436F6D6D616E64285F73716C2C20636F6E6E656374696F6E29290D0A2020202020202020202020207B0D0A202020202020202020202020202020207661722073657474696E6773203D206E65772044696374696F6E6172793C737472696E672C20737472696E673E28293B0D0A0D0A202020202020202020202020202020207573696E67202853716C4461746152656164657220726561646572203D2073656C65637450726F70732E457865637574655265616465722829290D0A202020202020202020202020202020207B0D0A20202020202020202020202020202020202020207768696C6520287265616465722E526561642829290D0A20202020202020202020202020202020202020207B0D0A20202020202020202020202020202020202020202020202073657474696E67732E416464287265616465722E47657453716C537472696E672830292E56616C75652C207265616465722E47657453716C537472696E672831292E56616C7565293B0D0A20202020202020202020202020202020202020207D0D0A202020202020202020202020202020207D0D0A0D0A2020202020202020202020202020202072657475726E2073657474696E67733B0D0A2020202020202020202020207D0D0A20202020202020207D0D0A202020207D0D0A0D0A0D0A20202020707269766174652073746174696320766F69642053656E64546F5069706528737472696E67206F7574707574290D0A202020207B0D0A202020202020202076617220646F63203D2058446F63756D656E742E5061727365286F7574707574293B0D0A0D0A202020202020202053716C446174615265636F7264207265636F7264203D206E756C6C3B0D0A0D0A20202020202020204C6973743C737472696E673E206E616D6573203D206E756C6C3B0D0A0D0A20202020202020204C6973743C737472696E673E2076616C756573203D206E756C6C3B0D0A0D0A2020202020202020666F72656163682028766172206974656D20696E20646F632E526F6F742E456C656D656E747328226974656D7322292E456C656D656E74732829290D0A20202020202020207B0D0A202020202020202020202020696620286E616D6573203D3D206E756C6C207C7C207265636F7264203D3D206E756C6C290D0A2020202020202020202020207B0D0A202020202020202020202020202020206E616D6573203D206E6577204C6973743C737472696E673E286974656D2E4174747269627574657328292E436F756E742829293B0D0A202020202020202020202020202020206E616D65732E41646452616E6765286974656D2E4174747269627574657328292E53656C6563742861203D3E20612E4E616D652E4C6F63616C4E616D6529293B0D0A0D0A202020202020202020202020202020207265636F7264203D20437265617465446174615265636F7264286E616D6573293B0D0A2020202020202020202020202020202053716C436F6E746578742E506970652E53656E64526573756C74735374617274287265636F7264293B0D0A2020202020202020202020207D0D0A0D0A20202020202020202020202076616C756573203D206E6577204C6973743C737472696E673E286974656D2E4174747269627574657328292E53656C6563742861203D3E20612E56616C756529293B0D0A0D0A20202020202020202020202046696C6C446174615265636F72642876616C7565732C20726566207265636F7264293B0D0A0D0A20202020202020202020202053716C436F6E746578742E506970652E53656E64526573756C7473526F77287265636F7264293B0D0A20202020202020207D0D0A0D0A2020202020202020696620287265636F726420213D206E756C6C290D0A20202020202020202020202053716C436F6E746578742E506970652E53656E64526573756C7473456E6428293B0D0A202020207D0D0A0D0A2020202070726976617465207374617469632053716C446174615265636F726420437265617465446174615265636F7264284C6973743C737472696E673E206D657461290D0A202020207B0D0A2020202020202020766172206D65746144617461203D206E6577204C6973743C53716C4D657461446174613E286D6574612E436F756E74293B0D0A0D0A20202020202020206D657461446174612E41646452616E6765286D6574612E546F4C69737428292E53656C6563742869203D3E206E65772053716C4D6574614461746128692C2053716C4462547970652E4E566172436861722C203235302929293B0D0A0D0A2020202020202020766172207265636F7264203D206E65772053716C446174615265636F7264286D657461446174612E546F41727261792829293B0D0A0D0A202020202020202072657475726E207265636F72643B0D0A202020207D0D0A0D0A20202020707269766174652073746174696320766F69642046696C6C446174615265636F7264284C6973743C737472696E673E2076616C7565732C207265662053716C446174615265636F7264207265636F7264290D0A202020207B0D0A2020202020202020696E7420636F756E74203D20303B0D0A2020202020202020666F726561636820287661722076616C20696E2076616C756573290D0A20202020202020207B0D0A2020202020202020202020207265636F72642E536574537472696E6728636F756E742B2B2C2076616C293B0D0A20202020202020207D0D0A202020207D0D0A7D3B0D0A AS N'StoredProcedures.cs';


GO
PRINT N'Creating [dbo].[shared_GetMatrixValues]...';


GO
CREATE PROCEDURE [dbo].[shared_GetMatrixValues]
@name NVARCHAR (4000), @conditionals NVARCHAR (4000), @returns NVARCHAR (4000)
AS EXTERNAL NAME [InvokeWebService].[StoredProcedures].[shared_GetMatrixValues]


GO
IF @@ERROR <> 0
   AND @@TRANCOUNT > 0
    BEGIN
        ROLLBACK;
    END

IF @@TRANCOUNT = 0
    BEGIN
        INSERT  INTO #tmpErrors (Error)
        VALUES                 (1);
        BEGIN TRANSACTION;
    END


GO
PRINT N'Creating [InvokeWebService].[SqlAssemblyProjectRoot]...';


GO
EXECUTE sp_addextendedproperty @name = N'SqlAssemblyProjectRoot', @value = N'C:\Sources\SharedRef\InvokeWebService', @level0type = N'Assembly', @level0name = N'InvokeWebService';


GO
IF @@ERROR <> 0
   AND @@TRANCOUNT > 0
    BEGIN
        ROLLBACK;
    END

IF @@TRANCOUNT = 0
    BEGIN
        INSERT  INTO #tmpErrors (Error)
        VALUES                 (1);
        BEGIN TRANSACTION;
    END


GO
IF EXISTS (SELECT * FROM #tmpErrors) ROLLBACK TRANSACTION
GO
IF @@TRANCOUNT>0 BEGIN
PRINT N'The transacted portion of the database update succeeded.'
COMMIT TRANSACTION
END
ELSE PRINT N'The transacted portion of the database update failed.'
GO
DROP TABLE #tmpErrors
GO
