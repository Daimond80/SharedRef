/*
Deployment script for fias
*/

GO
SET ANSI_NULLS, ANSI_PADDING, ANSI_WARNINGS, ARITHABORT, QUOTED_IDENTIFIER ON;

SET CONCAT_NULL_YIELDS_NULL, NUMERIC_ROUNDABORT OFF;


GO
:setvar DatabaseName "fias"
:setvar DefaultDataPath "c:\Program Files\Microsoft SQL Server\MSSQL10_50.HOME\MSSQL\DATA\"
:setvar DefaultLogPath "c:\Program Files\Microsoft SQL Server\MSSQL10_50.HOME\MSSQL\DATA\"

GO
:on error exit
GO
USE [master]
GO
USE [$(DatabaseName)]
GO
IF EXISTS (SELECT * FROM tempdb..sysobjects WHERE id=OBJECT_ID('tempdb..#tmpErrors')) DROP TABLE #tmpErrors
GO
CREATE TABLE #tmpErrors (Error int)
GO
SET XACT_ABORT ON
GO
SET TRANSACTION ISOLATION LEVEL READ COMMITTED
GO
BEGIN TRANSACTION
GO
PRINT N'Dropping [dbo].[shared_GetMatrixValues]...';


GO
DROP PROCEDURE [dbo].[shared_GetMatrixValues];


GO
IF @@ERROR <> 0
   AND @@TRANCOUNT > 0
    BEGIN
        ROLLBACK;
    END

IF @@TRANCOUNT = 0
    BEGIN
        INSERT  INTO #tmpErrors (Error)
        VALUES                 (1);
        BEGIN TRANSACTION;
    END


GO
PRINT N'Dropping [InvokeWebService]...';


GO
DROP ASSEMBLY [InvokeWebService];


GO
IF @@ERROR <> 0
   AND @@TRANCOUNT > 0
    BEGIN
        ROLLBACK;
    END

IF @@TRANCOUNT = 0
    BEGIN
        INSERT  INTO #tmpErrors (Error)
        VALUES                 (1);
        BEGIN TRANSACTION;
    END


GO
PRINT N'Creating [InvokeWebService]...';


GO
CREATE ASSEMBLY [InvokeWebService]
    AUTHORIZATION [dbo]
    FROM 0x4D5A90000300000004000000FFFF0000B800000000000000400000000000000000000000000000000000000000000000000000000000000000000000800000000E1FBA0E00B409CD21B8014CCD21546869732070726F6772616D2063616E6E6F742062652072756E20696E20444F53206D6F64652E0D0D0A2400000000000000504500004C01030065EC39500000000000000000E00002210B0108000022000000060000000000008E41000000200000006000000000400000200000000200000400000000000000040000000000000000A000000002000085AF0000030040850000100000100000000010000010000000000000100000000000000000000000404100004B00000000600000D803000000000000000000000000000000000000008000000C000000984000001C0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000080000000000000000000000082000004800000000000000000000002E7465787400000094210000002000000022000000020000000000000000000000000000200000602E72737263000000D8030000006000000004000000240000000000000000000000000000400000402E72656C6F6300000C000000008000000002000000280000000000000000000000000000400000420000000000000000000000000000000070410000000000004800000002000500B8240000E01B00000900000000000000000000000000000050200000800000000000000000000000000000000000000000000000000000000000000000000000742E8B47024ECC74B56D760904D7ED53837FE2E7AFBEAA755A97A0DFC8874C722EDECE9D471473B1F77293D1E36021E56400A6331387E7AD37FF6228ED14644C773101984656FBE70A5E016410E1C78063335739986804567DDADEC0A4E392250F4AD89014D7BDBE088268CDC724A19D3680B86B1A0C3C082B285C4505518AE15A02281200000A0000027201000070281300000A00002A0013300300200000000100001100027251000070168D02000001281500000A0A06169A74190000010B2B00072A1330030020000000010000110002726D000070168D02000001281500000A0A06169A74190000010B2B00072A133005004200000002000011000272850000701B8D020000010C081603A2081704A2081805A208190E048C1A000001A2081A0E058C1B000001A208281500000A0A06169A74190000010B2B00072A0000133005002A0000000200001100027299000070188D020000010C081603A2081704A208281500000A0A06169A74190000010B2B00072A0000133005002E00000002000011000272A9000070198D020000010C081603A2081704A2081805A208281500000A0A06169A74190000010B2B00072A0000133003002000000001000011000272C9000070168D02000001281500000A0A06169A74190000010B2B00072A13300400170000000300001100730100000602030428060000060A062809000006002A00133001001000000003000011026F1800000A6F1900000A0A2B00062A133001000B00000003000011026F1A00000A0A2B00062A001B3005002F010000040000110002281B00000A0A140B140C140D00066F1C00000A72D5000070281D00000A6F1E00000A280100002B6F2000000A130538BD00000011056F2100000A130400082C090714FE0116FE012B0116130611062D590011046F2200000A280200002B732400000A0C0811046F2200000A7E010000042D1314FE060D000006732500000A80010000042B007E01000004280300002B6F2700000A0008280A0000060B282800000A076F2900000A000011046F2200000A7E020000042D1314FE060E000006732500000A80020000042B007E02000004280300002B732A00000A0D091201280B00000600282800000A076F2B00000A000011056F2C00000A130611063A33FFFFFFDE14110514FE01130611062D0811056F2D00000A00DC000714FE01130611062D0B282800000A6F2E00000A002A000110000002003000D404011400000000133004001300000005000011021F0C20FA0000006A732F00000A0A2B00062A0013300500500000000600001100026F3000000A733100000A0A0602280400002B7E030000042D1314FE060F000006733300000A80030000042B007E03000004280500002B6F3400000A00066F3500000A733600000A0B070C2B00082A1B300400430000000700001100160A00026F3700000A0C2B181202283800000A0B000350062517580A076F3900000A00001202283A00000A0D092DDDDE0F1202FE160700001B6F2D00000A00DC002A000110000002000B002732000F000000001E02283B00000A2A42534A4201000100000000000C00000076322E302E35303732370000000005006C000000BC050000237E0000280600005407000023537472696E6773000000007C0D0000E400000023555300600E0000100000002347554944000000700E0000700D000023426C6F620000000000000002000001571502080908000000FA253300160000010000002E00000003000000030000000F000000140000003B0000001C000000070000000700000001000000060000000500000000000A0001000000000006006F0051000A0096008F000E002E0113010A0057013C010A00E501D3010A00FC01D3010A001902D3010A003802D3010A005102D3010A006A02D3010A008502D3010A00A002D3010A00D802B9020A00EC02D3010A00180305033F002C0300000A005B033B030A007B033B031200C203AA030A00D903050312000C04F603060026043D0006004104510006005B0451000A007E048F000A0085048F000A008B048F000E00930413011600B904A9041A00E3048F000A0011053B0316006405A90416008B05A90416009B05A9041600B905A9040A00C4053C011600DB05A9040A00E6053C011A00250619060E00460613010E00510613010A00950682060A00AA068F000E00CD0613010E001907070113003C0700000000000001000000000001000100010010001F000000050001000100010010002C0000000900010008001100EA04610B11003D05610B1100F2065B0CD0200000000086189D0013000100E820000000008600A300170001001421000000008600B100170001004021000000008600BD001B0001009021000000008600C70024000600C821000000008600CF002A0008000422000000008600DF0017000B003022000000009600E50031000B008822000000009100FC0038000E00F4230000000091005E013D000F0050240000000091006F0147001000B0240000000086189D00130012005422000000009100C4045B0B120070220000000091002C055B0B1300D423000000009100D906540C1400000001007E01000002008301000003008C01000004009601000005009C01000001007E0100000200A101000001007E0100000200A40100000300B101000001007E0100000200A40100000300B10100000100B90100000100C00100000100C50100000200CC0100000100D50400000100D50400000100F00629009D00530031009D00530039009D00530041009D00530049009D00530051009D00530059009D00530061009D00530069009D00580071009D00530079009D005D0089009D00630091009D00130099009D000A01A1009D001300A9009D005300B1009D00130009009D001300B90053045300C1009D005300090077041003E1009D001300F9009D001300E9006A056A0B010173051700E9008105170009019505700B0901A405770B0101AD057D0B1901D205840B2901D205920B0C00F405B40B14000206C70B11010E06CC0B39013006D60B1C009D00630024009D00F50B39013606FB0B1C003D061B0C41015906260C490162062C0C1C009D001B0C490173062C0C5101A106320C5901B60613004901BE06130061019D00650C1C002307740C2C009D00630039012D07800C34009D00F50B2C003D061B0C2C003407A50C19009D00AB0C1C00F405C10C3C000206C70B19004707D20C3C00A106320C11009D0013002100BB0026012E006300450D2E002300000D2E005B003C0D2E000B00E40C2E001300FA0C2E001B00FA0C2E006B004E0D2E002B00E40C2E003300150D2E003B00FA0C2E004B00FA0C4000A30069014100BB002601430083002B0143007B00260143008B0035014300730010016000A3001E036100BB0026018000A300C304A000A3006E06C000A3000F08E000A300B8090001B3002601A001BB002601C001BB002601E001BB00260118036606570B360C6E0CB30CD80CAB0BBE0BE70BED0B780C950CCB0C04800000010000000D12D25E0100000068009903000002000000000000000000000001003D00000000000200000000000000000000000A008600000000000200000000000000000000000A000701000000000200000000000000000000000A008F00000000000300050000000000000000000A00A904000000000300050000000000000000000A00D704000000003F00A50B4700E20B4D00150C6500910C4D009E0C00000000003C4D6F64756C653E00496E766F6B65576562536572766963652E646C6C00536861726564526566586D6C0053746F72656450726F636564757265730053797374656D2E5765622E53657276696365730053797374656D2E5765622E53657276696365732E50726F746F636F6C7300536F617048747470436C69656E7450726F746F636F6C006D73636F726C69620053797374656D004F626A656374002E63746F72004765745265666572656E636573004765744D617472697865730047657456616C7565730047657442794964004765744D617472697856616C75657300436C656172007368617265645F4765744D617472697856616C7565730053656E64546F506970650053797374656D2E44617461004D6963726F736F66742E53716C5365727665722E5365727665720053716C446174615265636F72640053797374656D2E436F6C6C656374696F6E732E47656E65726963004C697374603100437265617465446174615265636F72640046696C6C446174615265636F7264006E616D6500706172656E7449640073746172745769746800636F756E7400736F727400696400636F6E646974696F6E616C730072657475726E73006F7574707574006D6574610076616C756573007265636F72640053797374656D2E5265666C656374696F6E00417373656D626C795469746C6541747472696275746500417373656D626C794465736372697074696F6E41747472696275746500417373656D626C79436F6E66696775726174696F6E41747472696275746500417373656D626C79436F6D70616E7941747472696275746500417373656D626C7950726F6475637441747472696275746500417373656D626C79436F7079726967687441747472696275746500417373656D626C7954726164656D61726B41747472696275746500417373656D626C7943756C747572654174747269627574650053797374656D2E52756E74696D652E496E7465726F70536572766963657300436F6D56697369626C6541747472696275746500417373656D626C7956657273696F6E4174747269627574650053797374656D2E446961676E6F73746963730044656275676761626C6541747472696275746500446562756767696E674D6F6465730053797374656D2E52756E74696D652E436F6D70696C6572536572766963657300436F6D70696C6174696F6E52656C61786174696F6E734174747269627574650052756E74696D65436F6D7061746962696C69747941747472696275746500496E766F6B65576562536572766963650053797374656D2E436F6465446F6D2E436F6D70696C65720047656E657261746564436F6465417474726962757465004465627567676572537465705468726F7567684174747269627574650053797374656D2E436F6D706F6E656E744D6F64656C0044657369676E657243617465676F7279417474726962757465005765625365727669636542696E64696E6741747472696275746500576562436C69656E7450726F746F636F6C007365745F55726C00536F6170446F63756D656E744D6574686F6441747472696275746500496E766F6B6500537472696E6700496E74333200426F6F6C65616E0053716C50726F6365647572654174747269627574650053797374656D2E586D6C2E4C696E710058417474726962757465003C53656E64546F506970653E625F5F3000610053797374656D2E436F72650046756E636032004353243C3E395F5F436163686564416E6F6E796D6F75734D6574686F6444656C65676174653200436F6D70696C657247656E657261746564417474726962757465003C53656E64546F506970653E625F5F31004353243C3E395F5F436163686564416E6F6E796D6F75734D6574686F6444656C65676174653300584E616D65006765745F4E616D65006765745F4C6F63616C4E616D65006765745F56616C75650058446F63756D656E740050617273650058456C656D656E74006765745F526F6F74006F705F496D706C696369740058436F6E7461696E65720049456E756D657261626C65603100456C656D656E747300457874656E73696F6E730049456E756D657261746F72603100476574456E756D657261746F72006765745F43757272656E7400417474726962757465730053797374656D2E4C696E7100456E756D657261626C6500436F756E740053656C6563740041646452616E67650053716C436F6E746578740053716C50697065006765745F506970650053656E64526573756C747353746172740053656E64526573756C7473526F770053797374656D2E436F6C6C656374696F6E730049456E756D657261746F72004D6F76654E6578740049446973706F7361626C6500446973706F73650053656E64526573756C7473456E640053716C4D65746144617461003C437265617465446174615265636F72643E625F5F340069004353243C3E395F5F436163686564416E6F6E796D6F75734D6574686F6444656C6567617465350053716C446254797065006765745F436F756E7400546F4C69737400546F417272617900456E756D657261746F7200536574537472696E6700000000004F68007400740070003A002F002F006C006F00630061006C0068006F00730074002F005300680061007200650064005200650066002E005700650062002F0058006D006C002E00610073006D007800001B4700650074005200650066006500720065006E0063006500730000174700650074004D0061007400720069007800650073000013470065007400560061006C00750065007300000F4700650074004200790049006400001F4700650074004D0061007400720069007800560061006C00750065007300000B43006C00650061007200000B6900740065006D007300000000007B56A8CDB4BA4E4F97A0D6FF2C709AF20008B03F5F7F11D50A3A08B77A5C561934E089032000010320000E0820050E0E0E0E08020520020E0E0E0620030E0E0E0E060003010E0E0E040001010E090001120D151211010E0B000201151211010E10120D042001010E0420010102052001011141042001010880A0002400000480000094000000060200000024000052534131000400000100010005D1B9BC61A05932E42A08253F8889B13FE880DCD584640C1B50B3A722720EE87140657B71B8A3DABCCA5CE984652D456FECCF314AFA5CB1423E58A5FCEF89FDD3B98CB5A045B14AC2D558F5EF093971BEBDCC029053919842E072376F2DC10EC7B28FF23D88CF433AEB9A73EE87955E29B02AC1B83F6E093FC79349EF0DD6F3052002010E0E150100047773646C0B342E302E33303331392E310000040100000009010004636F646500003301000200540E044E616D6507586D6C536F6170540E094E616D65737061636513687474703A2F2F74656D707572692E6F72672F81A5010020687474703A2F2F74656D707572692E6F72672F4765745265666572656E6365730400540E10526571756573744E616D65737061636513687474703A2F2F74656D707572692E6F72672F540E11526573706F6E73654E616D65737061636513687474703A2F2F74656D707572692E6F72672F5455808653797374656D2E5765622E53657276696365732E4465736372697074696F6E2E536F617042696E64696E675573652C2053797374656D2E5765622E53657276696365732C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D6230336635663766313164353061336103557365020000005455808853797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F6170506172616D657465725374796C652C2053797374656D2E5765622E53657276696365732C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D623033663566376631316435306133610E506172616D657465725374796C65020000000720021D1C0E1D1C0507021D1C0E81A301001E687474703A2F2F74656D707572692E6F72672F4765744D617472697865730400540E10526571756573744E616D65737061636513687474703A2F2F74656D707572692E6F72672F540E11526573706F6E73654E616D65737061636513687474703A2F2F74656D707572692E6F72672F5455808653797374656D2E5765622E53657276696365732E4465736372697074696F6E2E536F617042696E64696E675573652C2053797374656D2E5765622E53657276696365732C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D6230336635663766313164353061336103557365020000005455808853797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F6170506172616D657465725374796C652C2053797374656D2E5765622E53657276696365732C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D623033663566376631316435306133610E506172616D657465725374796C650200000081A101001C687474703A2F2F74656D707572692E6F72672F47657456616C7565730400540E10526571756573744E616D65737061636513687474703A2F2F74656D707572692E6F72672F540E11526573706F6E73654E616D65737061636513687474703A2F2F74656D707572692E6F72672F5455808653797374656D2E5765622E53657276696365732E4465736372697074696F6E2E536F617042696E64696E675573652C2053797374656D2E5765622E53657276696365732C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D6230336635663766313164353061336103557365020000005455808853797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F6170506172616D657465725374796C652C2053797374656D2E5765622E53657276696365732C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D623033663566376631316435306133610E506172616D657465725374796C65020000000707031D1C0E1D1C819F01001A687474703A2F2F74656D707572692E6F72672F476574427949640400540E10526571756573744E616D65737061636513687474703A2F2F74656D707572692E6F72672F540E11526573706F6E73654E616D65737061636513687474703A2F2F74656D707572692E6F72672F5455808653797374656D2E5765622E53657276696365732E4465736372697074696F6E2E536F617042696E64696E675573652C2053797374656D2E5765622E53657276696365732C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D6230336635663766313164353061336103557365020000005455808853797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F6170506172616D657465725374796C652C2053797374656D2E5765622E53657276696365732C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D623033663566376631316435306133610E506172616D657465725374796C650200000081A7010022687474703A2F2F74656D707572692E6F72672F4765744D617472697856616C7565730400540E10526571756573744E616D65737061636513687474703A2F2F74656D707572692E6F72672F540E11526573706F6E73654E616D65737061636513687474703A2F2F74656D707572692E6F72672F5455808653797374656D2E5765622E53657276696365732E4465736372697074696F6E2E536F617042696E64696E675573652C2053797374656D2E5765622E53657276696365732C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D6230336635663766313164353061336103557365020000005455808853797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F6170506172616D657465725374796C652C2053797374656D2E5765622E53657276696365732C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D623033663566376631316435306133610E506172616D657465725374796C6502000000819D010018687474703A2F2F74656D707572692E6F72672F436C6561720400540E10526571756573744E616D65737061636513687474703A2F2F74656D707572692E6F72672F540E11526573706F6E73654E616D65737061636513687474703A2F2F74656D707572692E6F72672F5455808653797374656D2E5765622E53657276696365732E4465736372697074696F6E2E536F617042696E64696E675573652C2053797374656D2E5765622E53657276696365732C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D6230336635663766313164353061336103557365020000005455808853797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F6170506172616D657465725374796C652C2053797374656D2E5765622E53657276696365732C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D623033663566376631316435306133610E506172616D657465725374796C65020000000307010E0500010E127508061512790212750E0520001280810600011280850E0520001280890600011280810E0D2001151280910112808912808112100101151280910112808915128091011E00050A01128089081512809101128089092000151280990113000815128099011280890420001300092000151280910112750B1001010815128091011E00040A01127505151211010E071512790212750E052002011C181910020215128091011E0115128091011E00151279021E001E01050A0212750E0A200101151280910113000500001280A505200101120D032000021D0707128085120D151211010E151211010E1280891512809901128089020600011280B10E0906151279020E1280B1082003010E1180B50A0507011280B10320000807151211011280B110100101151211011E0015128091011E00030A010E08151279020E1280B1060A020E1280B10520001D1300072001011D1280B10D0703151211011280B1120D120D092000151180B901130006151180B9010E05200201080E0B0704080E151180B9010E0215010010496E766F6B655765625365727669636500000501000000001401000F4865776C6574742D5061636B617264000026010021436F7079726967687420C2A9204865776C6574742D5061636B617264203230313200000801000701000000000801000800000000001E01000100540216577261704E6F6E457863657074696F6E5468726F7773010000000000000065EC3950000000000200000089000000B4400000B4220000525344534AC9A2F8F75A2A44BEEEBFD1D5F97BE403000000433A5C55736572735C4461696D6F6E645C646F63756D656E74735C76697375616C2073747564696F20323031305C50726F6A656374735C5368617265645265665C496E766F6B65576562536572766963655C6F626A5C44656275675C496E766F6B65576562536572766963652E706462000000006841000000000000000000007E410000002000000000000000000000000000000000000000000000704100000000000000005F436F72446C6C4D61696E006D73636F7265652E646C6C0000000000FF250020400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100000001800008000000000000000000000000000000100010000003000008000000000000000000000000000000100000000004800000058600000800300000000000000000000800334000000560053005F00560045005200530049004F004E005F0049004E0046004F0000000000BD04EFFE0000010000000100D25E0D1200000100D25E0D123F000000000000000400000002000000000000000000000000000000440000000100560061007200460069006C00650049006E0066006F00000000002400040000005400720061006E0073006C006100740069006F006E00000000000000B004E0020000010053007400720069006E006700460069006C00650049006E0066006F000000BC020000010030003000300030003000340062003000000040001000010043006F006D00700061006E0079004E0061006D006500000000004800650077006C006500740074002D005000610063006B0061007200640000004C0011000100460069006C0065004400650073006300720069007000740069006F006E000000000049006E0076006F006B00650057006500620053006500720076006900630065000000000040000F000100460069006C006500560065007200730069006F006E000000000031002E0030002E0034003600320031002E0032003400320037003400000000004C001500010049006E007400650072006E0061006C004E0061006D006500000049006E0076006F006B00650057006500620053006500720076006900630065002E0064006C006C00000000006800210001004C006500670061006C0043006F007000790072006900670068007400000043006F0070007900720069006700680074002000A90020004800650077006C006500740074002D005000610063006B0061007200640020003200300031003200000000005400150001004F0072006900670069006E0061006C00460069006C0065006E0061006D006500000049006E0076006F006B00650057006500620053006500720076006900630065002E0064006C006C0000000000440011000100500072006F0064007500630074004E0061006D0065000000000049006E0076006F006B00650057006500620053006500720076006900630065000000000044000F000100500072006F006400750063007400560065007200730069006F006E00000031002E0030002E0034003600320031002E00320034003200370034000000000048000F00010041007300730065006D0062006C0079002000560065007200730069006F006E00000031002E0030002E0034003600320031002E00320034003200370034000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000C000000903100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
    WITH PERMISSION_SET = EXTERNAL_ACCESS;


GO
IF @@ERROR <> 0
   AND @@TRANCOUNT > 0
    BEGIN
        ROLLBACK;
    END

IF @@TRANCOUNT = 0
    BEGIN
        INSERT  INTO #tmpErrors (Error)
        VALUES                 (1);
        BEGIN TRANSACTION;
    END


GO
PRINT N'Creating [dbo].[shared_GetMatrixValues]...';


GO
CREATE PROCEDURE [dbo].[shared_GetMatrixValues]
@name NVARCHAR (4000), @conditionals NVARCHAR (4000), @returns NVARCHAR (4000)
AS EXTERNAL NAME [InvokeWebService].[StoredProcedures].[shared_GetMatrixValues]


GO
IF @@ERROR <> 0
   AND @@TRANCOUNT > 0
    BEGIN
        ROLLBACK;
    END

IF @@TRANCOUNT = 0
    BEGIN
        INSERT  INTO #tmpErrors (Error)
        VALUES                 (1);
        BEGIN TRANSACTION;
    END


GO
IF EXISTS (SELECT * FROM #tmpErrors) ROLLBACK TRANSACTION
GO
IF @@TRANCOUNT>0 BEGIN
PRINT N'The transacted portion of the database update succeeded.'
COMMIT TRANSACTION
END
ELSE PRINT N'The transacted portion of the database update failed.'
GO
DROP TABLE #tmpErrors
GO
